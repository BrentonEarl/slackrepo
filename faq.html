<!DOCTYPE html>
<html lang="en">

<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>slackrepo - FAQ</title>
<link rel="icon" type="image/png" href="/slackrepo/favicon.png">
<link rel="shortcut icon" href="/slackrepo/favicon.ico">
<link rel="stylesheet" type="text/css" href="/slackrepo/slackrepostyle.css">
</head>

<body>

<header>
<h2>FAQ</h2>
</header>

<nav>
<h2><a href="index.html">slackrepo</a></h2>
<ul>
<li><a href="news.html">News</a></li>
<li><a href="download.html">Download</a></li>
<li><a href="quickstart.html">Quick start</a></li>
<li><a href="screenshots.html">Screenshots</a></li>
<li><a href="usagenotes.html">Documentation&nbsp;&raquo;</a></li>
<li>
  <ul>
  <li><a href="usagenotes.html">Usage notes</a></li>
  <li><a href="hintfiles.html">Hintfiles</a></li>
  <li><b style="color:red">&bull;</b>&nbsp;<a href="faq.html">FAQ</a></li>
  <li><a href="configuration.html">Configuration</a></li>
  <li><a href="structure.html">Repo structure</a></li>
  <li><a href="tests.html">Tests</a></li>
  <li><a href="links.html">Links</a></li>
  </ul>
</li>
<li><a href="slackrepo.8.html">manpages&nbsp;&raquo;</a></li>
</ul>
</nav>

<div id="main" style="counter-reset: faqnumber">

<h5 class="faq"><a name="why"></a>Why should I use slackrepo?</h5>
<p>That depends on your needs. If you don't build your own packages, you don't need slackrepo.
The existing
<a href="links.html">popular tools</a> like
<a href="http://www.sbopkg.org/" class="ext">sbopkg</a> and
<a href="http://slackblogs.blogspot.co.uk/2014/01/managing-sbo-dependencies-easily.html" class="ext">sqg</a>,
<a href="http://alien.slackbook.org/AST/" class="ext">AST</a>,
<a href="http://www.src2pkg.net/start" class="ext">src2pkg</a>,
<a href="http://www.dawoodfall.net/files/slackbuilds/noversion/mkslack/" class="ext">mkslack</a>,
etc. remain good choices for personal package building and installing, but for repeatable, clean batch building and
regular maintenance of large repositories, you need slackrepo.</p>
<p>If you want to visualise the difference between other tools and slackrepo, perhaps this classic illustration from
<a href="http://devopsreactions.tumblr.com/post/84407988311/scripts-written-by-developers-versus-scripts" class="ext">Devops Reactions</a> will help.</p>
<table>
<tr style="text-align:center"><th><i>other tools</i></th><th><i>slackrepo</i></th></tr>
<tr><td><img src="devopskuqJXRz.gif" height="200px" alt="diddle diddle diddle diddle" title="diddle diddle diddle diddle"></td>
    <td><img src="devops7eDCVhk.gif" height="200px" alt="STOMP STOMP STOMP" title="STOMP STOMP STOMP"></td>
</tr>
</table>

<h5 class="faq"><a name="smileys"></a>All this automation stinks, I want complete control by doing everything manually.</h5>
<p>Automation will give you huge gains in accuracy, reproducibility and productivity.
You still have complete control of the details with slackrepo's <a href="hintfiles.html">hintfiles</a>.
By building in a dynamically created and destroyed chroot environment (available in Slackware-current),
slackrepo will keep your build system clean,
and by calculating trees of dependencies rather than linear queues, slackrepo will keep your packages clean too.
Good luck doing that manually!</p>

<h5 class="faq"><a name="smileys"></a>Why does the output have stupid smileys?</h5>
<p>So you can search and grep in the logfile. That's not stupid. &nbsp;&nbsp;<code>;-)</code></p>

<h5 class="faq"><a name="rebuilds"></a>Why does it do so many rebuilds?</h5>
<p>To be foolproof :-) A future version might examine the sonames inside each package and do something more intelligent, but "too many" rebuilds is always safer than "too few".</p>

<h5 class="faq"><a name="howlong"></a>The build time estimates are rubbish.</h5>
<p>They are better than nothing. If you can improve the code, please send me a patch.</p>
<iframe width="420" height="315" src="http://www.youtube.com/embed/8xRqXYsksFg?rel=0&start=25&end=&autoplay=0" frameborder="0" allowfullscreen></iframe>

<h5 class="faq"><a name="usermode"></a>How do I setup slackrepo to run as an ordinary (non-root) user?</h5>
<p>You need to build and install <a href="http://slackbuilds.org/repository/14.1/system/fakeroot/" class="ext">fakeroot</a> manually</p>
<p>and you need to create the file <code>/etc/sudoers.d/slackrepo</code>, containing this (replacing <code><i><u>yourusername</u></i></code> with your username):</p>
<pre>User_Alias SLACKREPOERS = <i><u>yourusername</u></i>
Defaults:SLACKREPOERS !env_reset,!env_delete
SLACKREPOERS ALL=(ALL) NOPASSWD: /usr/libexec/slackrepo/*</pre>
<p>and you need to create the file <code>.slackreporc</code> in the user's home directory, containing something like this (and of course you can set any other configuration variables in the same file):</p>
<pre>SBREPO=~/slackrepo/%REPO%/slackbuilds
SRCREPO=~/slackrepo/%REPO%/source
PKGREPO=~/slackrepo/%REPO%/packages/%SLACKVER%/%ARCH%
PKGBACKUP=~/slackrepo/%REPO%/backups/%SLACKVER%/%ARCH%
HINTDIR=~/slackrepo/%REPO%/hintfiles
DEFAULT_HINTDIR="/etc/slackrepo/%REPO%/default_hintfiles/%SLACKVER%"
LOGDIR=~/slackrepo/%REPO%/logs
DATABASE=~/slackrepo/%REPO%/database_%REPO%.sqlite3</pre>

<p>By default this will be initialised as the SBo repository.
If you want to have multiple user-mode repositories, your
<code>.slackreporc</code> file should contain these two lines:
</p>

<pre>
REPO=<i><u>default</u></i>
CONFIGDIR=~</pre>

<p>(where <code><i><u>default</u></i></code> is your favourite repository ID)
and then slackrepo will read everything else from the files slackrepo_csb.conf,
slackrepo_SBo.conf, etc. in your home directory instead of /etc.</p>

<h5 class="faq"><a name="multiple"></a>Can I run more than one instance of slackrepo at the same time?</h5>
<p>Yes, but only if they are building different repos. You can have one instance building <b>SBo</b> and another instance building <b>msb</b>,
but you can not have two instances building <b>SBo</b> at the same time.
Please don't try to have two hosts building the same repo at the same time using NFS.</p>

<h5 class="faq"><a name="rebuilds"></a>Why does it use so much disk space?</h5>
<p>It depends on how many packages you build and how large the packages are.
Some of the SBo games are truly enormous. Many people have the habit of deleting source files and packages as soon as they have been built and installed,
so they don't understand how much disk space a repository needs. By default, slackrepo keeps a backup
copy of old packages, but you can disable backups by setting <code>PKGBACKUP=''</code> in the configuration file.
The log files can be quite large; if this is a problem you can delete them manually.</p>

<h5 class="faq"><a name="oldslack"></a>Does slackrepo work on older versions of Slackware?</h5>
<p>Maybe :-) The SBo default hintfiles are for the SlackBuilds.org '14.1' branch, 
so some of them will need to be edited if you want to use them with an earlier branch or with Slackware -current.
The code has been tested only with bash-4.2, so there may be problems with 13.37 or earlier.</p>

<h5 class="faq"><a name="slax"></a>Does slackrepo work on other distros like Salix?</h5>
<p>Maybe, but this is untested. The package repo metadata can be configured for slapt-get compatibility.</p>

<h5 class="faq"><a name="updates"></a>SlackBuilds.org has just pushed a public update,
but slackrepo hasn't updated its copy of the SBo git repository.</h5>
<p>To be polite to SlackBuilds.org, slackrepo only checks for an update once every 24 hours.
If you are impolite and impatient, you can update the git repository manually.</p>

<h5 class="faq"><a name="genrepos"></a>Why is gen_repos_files.sh so slow?</h5>
<p>It needs to make a new MANIFEST.bz2 file etc. In a very big repository (thousands of packages), this can take hours.</p>

<h5 class="faq"><a name="epicfail"></a>This SlackBuild works when I run it manually, but fails in slackrepo. wtf?</h5>
<p>Try some of these <a href="hintfiles.html">hints</a>:</p>
<p><code>NUMJOBS="-j1"</code>&emsp;(slackrepo uses multiple jobs unless you specify this hint)
<br><code>PRAGMA="unset_ARCH"</code>&emsp;(the ARCH code in many SlackBuilds is broken, particularly for i486 and i686)
<br><code>PRAGMA="nofakeroot"</code>&emsp;(if you're building as a non-root user)
</p>

<h5 class="faq"><a name="gnutar"></a>I get the error message <code>tar: Directory renamed before its status could be extracted</code></h5>
<p>Use the <code>PRAGMA="abstar"</code> hint. Gnu tar sometimes gets confused if the archive
contains symlinks with .. in the path.</p>


</div>

</body>
</html>
