<!DOCTYPE html>
<html lang="en">

<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>slackrepo - Repository filestore structure</title>
<link rel="icon" type="image/png" href="/slackrepo/favicon.png">
<link rel="shortcut icon" href="/slackrepo/favicon.ico">
<link rel="stylesheet" type="text/css" href="/slackrepo/slackrepostyle.css">
</head>

<body>

<header>
<h2>Repository structure</h2>
</header>

<nav>
<h2><a href="index.html">slackrepo</a></h2>
<ul>
<li><a href="news.html">News</a></li>
<li><a href="download.html">Download</a></li>
<li><a href="quickstart.html">Quick start</a></li>
<li><a href="screenshots.html">Screenshots</a></li>
<li><a href="usagenotes.html">Documentation&nbsp;&raquo;</a></li>
<li>
  <ul>
  <li><a href="usagenotes.html">Usage notes</a></li>
  <li><a href="hintfiles.html">Hintfiles</a></li>
  <li><a href="faq.html">FAQ</a></li>
  <li><a href="configuration.html">Configuration</a></li>
  <li><b style="color:red">&bull;</b>&nbsp;<a href="structure.html">Repo structure</a></li>
  <li><a href="tests.html">Tests</a></li>
  <li><a href="links.html">Links</a></li>
  </ul>
</li>
<li><a href="slackrepo.8.html">manpages&nbsp;&raquo;</a></li>
</ul>
</nav>

<div id="main">

<h3>Repository paths</h3>

<p>Multiple repositories are supported.  The Repository ID, e.g. <b>SBo</b>,
selects a configuration file, e.g. <code>/etc/slackrepo/slackrepo_<b>SBo</b>.conf</code>, and
the configuration file sets the paths of the SlackBuild repository, the
source repository, the package repository, the hintfile and queuefile directories, and the
log directory.  The Repository ID can be specified by the control argument
<code>--repo=ID</code>, or by the <code>REPO</code> environment variable, or by setting <code>REPO=ID</code>
in the file <code>~/.slackreporc</code>.  By default, the default default is <b>SBo</b>.</p>

<p>Example showing repository trees for Repository ID <b>SBo</b>:</p>

<pre>
    [REPO=SBo] /etc/slackrepo/slackrepo_SBo.conf
                |
    [SBREPO]    |--/var/lib/slackrepo/SBo/slackbuilds/category/prgnam/prgnam.SlackBuild
    [SRCREPO]   |--/var/lib/slackrepo/SBo/source/category/prgnam/prgnam-1.0.4.tar.gz
    [PKGREPO]   |--/var/lib/slackrepo/SBo/packages/14.1/i486/category/prgnam/prgnam-1.0.4-i486-1_SBo.tgz
    [PKGBACKUP] |--/var/lib/slackrepo/SBo/backups/14.1/i486/category/prgnam/prgnam-1.0.3-i486-1_SBo.tgz
                |
    [DATABASE]  |--/var/lib/slackrepo/SBo/database_SBo.sqlite3
                |
    [HINTDIR]   |--/etc/slackrepo/SBo/hintfiles/[category/prgnam/]prgnam.hint
                |
    [LOGDIR]    |--/var/log/slackrepo/SBo/category/prgnam/build.log
                |--/var/log/slackrepo/SBo/category/prgnam/build.1.log.gz
                |--/var/log/slackrepo/SBo/category/prgnam/config.log
</pre>

<p>Under each of SBREPO, SRCREPO, PKGREPO, PKGBACKUP and LOGDIR is a subdirectory structure for each
SBo category and item. In HINTDIR, the subdirectory structure is optional: this allows you
to use your existing queuefile directory, if you have one.</p>

<h3>Package repository files</h3>

<p>The following files are created by gen_repos_files.sh and slackrepo in the package repository.</p>

<p>In the package repository's root directory:</p>
<ul>
<li><code>CHECKSUMS.md5</code> - md5 checksums for all the packages and the package metadata</li>
<li><code>CHECKSUMS.md5.asc</code> - a detached GPG signature that can be used to verify CHECKSUMS.md5</li>
<li><code>CHECKSUMS.md5.gz</code> - a compressed copy of CHECKSUMS.md5</li>
<li><code>CHECKSUMS.md5.gz.asc</code> - a detached GPG signature that can be used to verify CHECKSUMS.md5.gz</li>
<li><code>ChangeLog.rss</code> - an RSS feed of recent ChangeLog.txt entries</li>
<li><code>ChangeLog.txt</code> - the cumulative ChangeLog for this package repository</li>
<li><code>ChangeLog.txt.gz</code> - a compressed copy of ChangeLog.txt</li>
<li><code>FILELIST.TXT</code> - a listing of all the files in the package repository</li>
<li><code>GPG-KEY</code> - your public GPG key</li>
<li><code>MANIFEST.bz2</code> - a compressed listing of the contents of all the packages in the package repository</li>
<li><code>PACKAGES.TXT</code> - a listing of all the packages in the package repository</li>
<li><code>PACKAGES.TXT.gz</code> - a compressed copy of PACKAGES.TXT</li>
</ul>

<p>For each package:</p>
<ul>
<li><code>package.tgz</code> (or .txz, .tbz, .tlz) - the package itself</li>
<li><code>package.tgz.asc</code> (or .txz.asc, .tbz.asc, .tlz.asc) - a detached GPG signature that can be used to verify the package</li>
<li><code>package.tgz.md5</code> (or .txz.md5, .tbz.md5, .tlz.md5) - the package's md5sum</li>
<li><code>package.dep</code> - a plaintext list of all dependencies of the package (including indirect dependencies, but excluding any dependencies in Slackware itself)</li>
<li><code>package.lst</code> - a listing of the contents of the package</li>
<li><code>package.meta</code> - package management information, for generating PACKAGES.TXT</li>
<li><code>package.txt</code> - text description of the package (based on the slack-desc)</li>
</ul>

</div>

</body>
</html>
