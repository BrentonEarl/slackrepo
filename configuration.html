<!DOCTYPE html>
<html lang="en">

<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>slackrepo - Configuration</title>
<link rel="icon" type="image/png" href="/slackrepo/favicon.png">
<link rel="shortcut icon" href="/slackrepo/favicon.ico">
<link rel="stylesheet" type="text/css" href="/slackrepo/slackrepostyle.css">
</head>

<body>

<header>
<h2>Configuration</h2>
</header>

<nav>
<h2><a href="index.html">slackrepo</a></h2>
<ul>
<li><a href="news.html">News</a></li>
<li><a href="download.html">Download</a></li>
<li><a href="quickstart.html">Quick start</a></li>
<li><a href="screenshots.html">Screenshots</a></li>
<li><a href="usagenotes.html">Documentation&nbsp;&raquo;</a></li>
<li>
  <ul>
  <li><a href="usagenotes.html">Usage notes</a></li>
  <li><a href="hintfiles.html">Hintfiles</a></li>
  <li><a href="faq.html">FAQ</a></li>
  <li><b style="color:red">&bull;</b>&nbsp;<a href="configuration.html">Configuration</a></li>
  <li><a href="structure.html">Repo structure</a></li>
  <li><a href="tests.html">Tests</a></li>
  <li><a href="links.html">Links</a></li>
  </ul>
</li>
<li><a href="slackrepo.8.html">manpages&nbsp;&raquo;</a></li>
</ul>
</nav>

<div id="main">

<p>These configuration options are set in <code>slackrepo_SBo.conf</code>
or <code>~/.slackreporc</code>.</p>

<p><i>For full details, see the manpage
<a href="slackrepo.conf.5.html">slackrepo.conf(5)</a></i></p>

<h4>Default repo ID and configuration directory</h4>

<ul>
<li><code>REPO="SBo"</code> &mdash; the default repo ID.  This determines the configuration file
<code>slackrepo_<i>ID</i>.conf</code> from which other configuration variables will be read.
This can be set <b>only</b> in <code>~/.slackreporc</code>, but can be overridden by the <code>REPO</code> environment
variable or by the command line option <code>--repo=<i>ID</i></code>.</li>
<li><code>CONFIGDIR="/etc/slackrepo"</code> &mdash; the configuration directory.  This specifies an alternative
directory to be used instead of <code>/etc/slackrepo</code> to find the configuration files.
This can be set <b>only</b> in <code>~/.slackreporc</code>, but can be overridden by the <code>CONFIGDIR</code> environment
variable.</li>
</ul>

<h4>Repository filestore locations</h4>

<p>The strings <code>%REPO%</code>, <code>%SLACKVER%</code> and <code>%ARCH%</code>
are replaced by the repository ID (e.g. SBo), the Slackware version (e.g. 14.1),
and the Slackware ARCH (e.g. i486).</p>

<ul>
<li><code>SBREPO="/var/lib/slackrepo/%REPO%/slackbuilds"</code> &mdash; location of SlackBuilds repository</li>
<li><code>SRCREPO="/var/lib/slackrepo/%REPO%/source"</code> &mdash; location of downloaded source repository</li>
<li><code>PKGREPO="/var/lib/slackrepo/%REPO%/packages/%SLACKVER%/%ARCH%"</code> &mdash; location of package repository</li>
<li><code>PKGBACKUP="/var/lib/slackrepo/%REPO%/backups/%SLACKVER%/%ARCH%"</code> &mdash; location of backups</li>
<li><code>HINTDIR="/etc/slackrepo/%REPO%/hintfiles"</code> &mdash; location of <a href="hintfiles.html">Hintfiles</a></li>
<li><code>DEFAULT_HINTDIR="/etc/slackrepo/%REPO%/default_hintfiles/%SLACKVER%"</code> &mdash; location of default hintfiles</li>
<li><code>LOGDIR="/var/log/slackrepo/%REPO%"</code> &mdash; location of log files</li>
<li><code>DATABASE="/var/lib/slackrepo/%REPO%/database_%REPO%.sqlite3"</code> &mdash; location of the database</li>
<li><code>TMP="/tmp/%REPO%"</code> &mdash; directory for temporary files</li>
</ul>

<p>If you want to run slackrepo as an ordinary user, you can use something like
this instead, and save it to .slackreporc in your ordinary user's home directory:</p>
<pre>
SBREPO=~/slackrepo/%REPO%/slackbuilds
SRCREPO=~/slackrepo/%REPO%/source
PKGREPO=~/slackrepo/%REPO%/packages/%SLACKVER%/%ARCH%
PKGBACKUP=~/slackrepo/%REPO%/backups/%SLACKVER%/%ARCH%
HINTDIR=~/slackrepo/%REPO%/hintfiles
DEFAULT_HINTDIR="/etc/slackrepo/%REPO%/default_hintfiles/%SLACKVER%"
LOGDIR=~/slackrepo/%REPO%/logs
DATABASE=~/slackrepo/%REPO%/database_%REPO%.sqlite3
</pre>
<p>If you use ~ you should NOT use quotes "...". You also need to create the file
<code>/etc/sudoers.d/slackrepo</code>, replacing <code><i>username</i></code> with your
username:</p>
<pre>
User_Alias SLACKREPOERS = <i>username</i>
Defaults:SLACKREPOERS !env_reset,!env_delete
SLACKREPOERS ALL=(ALL) NOPASSWD: /usr/libexec/slackrepo/*
</pre>

<h4>Building packages</h4>

<ul>
<li><code>NUMJOBS=''</code> &mdash; number of make jobs to set in MAKEFLAGS (e.g., <code>NUMJOBS='-j2'</code>).
Leave blank to have this automatically determined as one more than the number of processors on the build host.</li>
<li><code>ARCH=''</code> &mdash; arch for built packages (normally determined from the build host)</li>
<li><code>TAG='_SBo'</code> &mdash; tag for built packages (<strong>please change this</strong>
if your packages will be publicly available, see <a href="http://slackbuilds.org/faq/#package_repos" class="ext">SlackBuilds.org FAQ 20</a>)</li>
<li><code>PKGTYPE='tgz'</code> &mdash; package compression type. Valid values are: tgz, txz, tbz, tlz</li>
</ul>

<h4>Calling gen_repos_files.sh</h4>

<ul>
<li><code>USE_GENREPOS='0'</code> &mdash; whether to use gen_repos_files.sh (to enable it, change 0 to 1)</li>
</ul>

<p>If you enable gen_repos_files.sh, you <strong>must</strong> set correct values for its
configuration options in <code>/etc/slackrepo/slackrepo_SBo.conf</code>.  However, if
you already use gen_repos_files.sh, it will still read your existing
<code>~/.genreprc</code> file.  For details, see the man page <a href="slackrepo.conf.5.html">slackrepo.conf(5)</a>.</p>

</div>

</body>
</html>
